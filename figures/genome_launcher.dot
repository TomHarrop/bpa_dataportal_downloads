digraph snakemake_dag {

    // viridis1 = "#440154";
    // viridis2 = "#31688e";
    // viridis3 = "#35b779";

    fontname = "lato";
    fontsize = "12";
    bgcolor = transparent;
    size = "6.66,7.5";
    dpi = 300;
    compound = true;
    splines = true;

    node[
        fontname = "lato";
    fontsize = "12";
    // labelloc = "b";
    // imagepos = "tc";
    shape = solid;
    style="rounded";
    color="#440154"
    // fixedsize = true;
    // height = 1.3;
    // width = 1;
    // imagescale = true;
    ];

    edge[fontname = "lato";
    fontsize = "10";
    ];

0[label = "BPA data portal",style=""];
0a[label = "INSDC databases",style="dashed"];

subgraph cluster_dm {
        label = "Genome Engine launcher";
        labelloc="b";
        compound = true;
        style=solid;
        color=none;
        subgraph cluster_dm1{
            label="";
            style="dashed,rounded";
            color="#440154"       
    1[label = "Select datasets for assembly"];
    2[label = "Hi-C",style=""];
    3[label = "PacBio",style=""];
    8[label = "Copy data to compute"];
    5[label = "Generate a YAML config"];
    6[label = "Run pipelines"];
    7[label = "Other (e.g. ONT)",style="dashed"];
    4[label = "Format data"];
        }
}

    0->1 []
    0a->1 [style=dashed]
    1->2,3,5
    2,3 -> 8
    8 -> 4

    1->7 [style=dashed]

    4,5 -> 6

} 